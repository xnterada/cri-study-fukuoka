# 第2回 ターミナルの基本操作

> ⚠️ **注意**  
> Windowsユーザーは[2回目以降の起動](https://github.com/xnterada/cri-study-fukuoka/blob/main/docs/linux/setup/win.md#2%E5%9B%9E%E7%9B%AE%E4%BB%A5%E9%99%8D%E3%81%AE%E8%B5%B7%E5%8B%95)に従い、WSLのターミナルを起動してから本ページの内容を進めてください。PowerShellやコマンドプロンプトではなく、WSLのターミナルを使用する必要があります。

## ターミナル

コンピューターと対話するためのインターフェースです。文字の入力を受け付けて、結果を文字で表示します。このようなインターフェースを**CLI（コマンドラインインターフェース）**と呼びます。GUI（グラフィカルユーザーインターフェース）とは異なり、キーボードからのコマンド入力が主な操作方法です。ユーザーから見ると、黒い画面のウィンドウがターミナルです。

> 📝 **備考**  
> GUIと対になる言葉として、CUI（キャラクターユーザーインターフェース）があります。CLIとCUIはほぼ同じ意味で使われることが多いですが、CLIはインターフェースの形式を、CUIは文字ベースのユーザーインターフェース全般を指します。

## シェル

ターミナルを開くと、シェルと呼ばれるプログラムが起動します。シェルは、ユーザーからのコマンド入力を受け取り、そのコマンドを解釈して実行します。Linuxでは、Bash（Bourne Again Shell）が最も一般的なシェルです。

ターミナルを開くと、以下のような表示になっているはずです。

```
xnter@DESKTOP-NBGO3I5:~$
```

- `xnter`にはログインしているユーザー名が表示されます。
- `DESKTOP-NBGO3I5`にはホスト名（コンピューター名）が表示されます。
- `~`にはカレントディレクトリ（現在の作業ディレクトリ）が表示されます。`~`はホームディレクトリを表す記号です。
- `$`はプロンプトを表します。これが表示されていれば、コマンド入力待ちの状態です。

> 📝 **備考**  
> 以降は、コマンドを表す場合はプロンプト表示を省略してコマンドのみを記載します。

## コマンド

OSに対して指示を出すための命令文です。ターミナルでコマンドを入力し、Enterキーを押すと、そのコマンドがシェルによって解釈され、実行されます。例えば、`ls`コマンドは現在のディレクトリ内のファイルやディレクトリの一覧を表示します。（おそらく、ディレクトリが空なので何も表示されないでしょう。）

```bash
ls
```

`ls`コマンドの結果はすぐに表示され、その後に再びプロンプトが表示され、次の入力を待ちます。`ls`コマンド以外でも同様に動作します。`date`コマンドを入力すると、現在の日時が表示されます。

```bash
date
```

`ls`や`date`以外にも多くのコマンドが存在し、Linuxの操作はこれらのコマンドを組み合わせて行います。コマンドは、実際にはシェルが呼び出すプログラムです。コマンドを実行すると、シェルは対応するプログラムをコンピューター内で探して起動し、そのプログラムがファイルの一覧表示や日時の取得などの処理を行います。

> 📝 **備考**  
> 実行中のプログラムのことを、Linuxでは「プロセス」と呼びます。プロセスはLinuxのみならずコンピューターを理解する上で非常に重要な概念ですが、本カリキュラムでは学習対象外とします。

> 💡 **ヒント**  
> コマンドは既存のものを使うだけでなく、プログラムを作成して自分で定義・追加することもできます。

### ファイルとディレクトリの準備

以降の説明で使用するために、いくつかのファイルとディレクトリを作成しておきます。まず、自分のホームディレクトリに移動します。`cd`コマンドを使います。

> 📝 **備考**  
> 「ディレクトリ」や「ファイル」などの用語は後ほど説明します。

```bash
cd ~
```

新しく作業用ディレクトリ`cri-study-linux-workspace`を作成します。`mkdir`コマンドを使います。

```bash
mkdir cri-study-linux-workspace
```

作成した作業用ディレクトリに移動します。

```bash
cd cri-study-linux-workspace
```

`touch`コマンドを使うと、空のファイルを作成できます。

```bash
touch file1.txt file2.txt
```

これで、`file1.txt`と`file2.txt`という2つの空のファイルが作成されました。再度`ls`コマンドを実行すると、先ほど作成したファイルが表示されるはずです。

```bash
ls
```

## オプション

コマンドに追加の指示を与えるための引数です。多くのコマンドは、オプションを指定することで動作を変更できます。オプションは通常、ハイフン（-）やダブルハイフン（--）で始まります。例えば、`ls`コマンドに`-l`オプションを付けると、詳細な情報を表示します。

```bash
ls -l
```

オプションは組み合わせることも可能です。`--all`オプションを付け加えると、隠しファイルも含めてすべてのファイルの詳細な情報を表示します。

```bash
ls -l --all
```

`-a`オプションは`--all`の短縮形ですので、以下のように入力しても同じ結果が得られます。

```bash
ls -l -a
```

さらに、ハイフン（-）付きのオプションはまとめて指定できます。

```bash
ls -la
```

このように、オプションを使うことでコマンドの動作を柔軟に変更できます。`ls`コマンドには他にも多くのオプションがあり、組み合わせて使用することも可能です。

> 💡 **ヒント**  
> Linuxディストリビューションによっては、入力コマンドに**勝手に**オプションがついていることがあります。例えば、Ubuntuでは`ls`コマンドにファイルタイプによって表示する色を付けるオプションがデフォルトで有効になっています。これは**エイリアス**という機能で、`alias ls`で実際に実行されるコマンドを確認できます。オプションの付いていない**純粋な**`ls`コマンドを実行したい場合は、`\ls`のようにバックスラッシュを付けて実行します。

## 引数

コマンドに対して追加の情報を提供するための値です。引数は通常、コマンドやオプションの後に続けて指定します。ここで`ls`コマンドだけを実行すると、先ほど作成したファイル（`file1.txt`と`file2.txt`）が表示されるはずです。

```bash
ls
```

`ls`コマンドに引数としてファイル名を指定すると、そのファイルのみの情報を表示します。

```bash
ls file1.txt
```

`mkdir`コマンドに引数として作成したいディレクトリ名を指定すると、そのディレクトリが作成されます。

```bash
mkdir dir1
```

> 📝 **備考**  
> Linuxのコマンドラインでは引数を使ってコマンドの対象や動作を指定します。プログラミングでの「引数」は、関数やメソッドに渡す追加の情報を指します。受け取り対象は異なりますが、「引数」は何かに対して追加の情報を渡すという点で概念は共通しています。

## 補完機能

ターミナルには補完機能が備わっており、コマンドやファイル名の入力を支援してくれます。例えば、`ls f`と入力した後にTabキーを押すと、`file`まで補完されます。`file`から始まるファイルが複数存在するので、さらにTabキーを押すと候補が表示されます。`1`または`2`を追記してからTabキーを押すと、完全なファイル名に補完されます。補完機能を活用することで、入力の手間を省き、タイプミスを減らすことができます。

> 💡 **ヒント**  
> Linuxには`ls`から始まるコマンドが多く存在するため、`ls`と入力した後にTabキーを押すと補完候補が複数表示される場合があります。その場合は、さらに文字を入力してから再度Tabキーを押すか、矢印キーで候補を選択してEnterキーを押してください。

## 初歩的なコマンド

以下に、Linuxのターミナルでよく使われる初歩的なコマンドをいくつか紹介します。（わからない用語があるかもしれませんが、ここではとりあえずコマンド名と簡単な説明だけ覚えておいてください。）

- **`pwd`**: 現在の作業ディレクトリのパスを表示します。
- **`whoami`**: 現在ログインしているユーザー名を表示します。
- **`cd`**: 指定したディレクトリに移動します。`cd ..`で一つ上の階層に移動します。
- **`ls`**: 現在のディレクトリ内のファイルやディレクトリの一覧を表示します。
- **`touch`**: 新しい空のファイルを作成します。
- **`mkdir`**: 新しいディレクトリを作成します。
- **`rm`**: 指定したファイルを削除します。`rm -r`でディレクトリを再帰的に削除します。
- **`cp`**: ファイルをコピーします。`-r`オプションを付けるとディレクトリを再帰的にコピーします。
- **`mv`**: ファイルを移動または名前変更します。
- **`cat`**: ファイルの内容を表示します。
- **`echo`**: 指定した文字列を表示します。

> ℹ️ **情報**  
> 存在しないコマンドは、ターミナルで実行すると「command not found」のようなエラーメッセージが表示されます。試しに`aiueo`のような存在しないコマンドを実行してみてください。コマンドによっては、追加のソフトウェアをインストールするためのヒントが表示される場合があります。

> ⚠️ **注意**  
> `rm`コマンドはファイルやディレクトリを削除するため、誤って重要なデータを消さないように注意してください。

## おわりに

Linuxには数多くのコマンドが存在しますが、実際に使うのはごく一部です。まずは基本的なコマンドを覚えていきましょう。

> 💡 **ヒント**  
> Linuxには`man`コマンドによるマニュアル表示機能があります。例えば`man ls`のようにコマンド名を指定すると、その詳細な説明を確認できます。コマンドや機能を丸暗記する必要はありません。概要を把握しておけば、必要な情報は`man`、ウェブ検索、生成AIへの質問で適宜補えます。
