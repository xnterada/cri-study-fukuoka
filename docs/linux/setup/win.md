# Windows向け Linux環境構築手順

## 概要

WindowsでLinux環境を構築するための方法を説明します。

> ℹ️ **情報**  
> すでにWindows上でLinux環境を構築している場合は、この手順をスキップしてください。

## WSLの有効化とインストール

Windows Subsystem for Linux 2 (以下、WSL2) はWindows標準で提供されている機能で、LinuxをWindows上で動作させることができます。以下の手順に従ってWSL2をインストールしてください。

1. 管理者権限でPowerShellを起動します。スタートメニューを右クリックし、「Windows PowerShell (管理者)」または「ターミナル（管理者）」を選択します。

2. WSLがインストールされているか確認するため、以下のコマンドを入力して実行します。

   ```bash
   wsl
   ```

   WSLがインストールされている場合は、WSLが起動して以下のようなプロンプトが表示されます。以降の手順は不要です。

   ```
   xnter@DESKTOP-NBGO3I5:/mnt/c/Windows/System32$
   ```

   WSLがインストールされていない場合は、エラーが表示されます。次の手順に進んでください。

3. 以下のコマンドを入力して、WSLと必要なコンポーネントをインストールします。

   ```bash
   wsl --install
   ```

4. 次に、Linuxディストリビューションを指定してインストールします。今回は、Ubuntuをインストールします。以下のコマンドを入力してください。

   ```bash
   wsl --install Ubuntu
   ```

5. インストールが完了したら、PCを再起動します。

6. 再起動後、スタートメニューから「Ubuntu（オレンジのアイコン）」のLinuxディストリビューションを起動します。

> ⚠️ **注意**  
> WSL2のインストール中に以下のようなエラーが表示された場合は、別の設定が必要なので講師に連絡してください。

   ```bash
   WSL2 は、現在のマシン構成ではサポートされていません。 
   "仮想マシン プラットフォーム" オプション コンポーネントを有効にし、さらに、BIOS で仮想化を有効にしてください。 
   "仮想マシン プラットフォーム" を有効にするには、次のコマンドを実行します: wsl.exe --install --no-distribution 
   詳細については、https://aka.ms/enablevirtualization をご覧ください
   エラー コード : Wsl/InstallDistro/Service/RegisterDistro/CreateVm/HCS/HCS_E_HYPERV_NOT_INSTALLED
   ```

## 初期設定

Ubuntuが初めて起動すると、ユーザー名とパスワードの設定を求められます。以下に従って設定を完了してください。

1. ユーザー名を入力し、Enterキーを押します。
2. パスワードを入力し、Enterキーを押します。ここで、入力したパスワードは画面に表示されません。
3. パスワードの確認のため、もう一度同じパスワードを入力し、Enterキーを押します。

これでWSL2上にUbuntuのLinux環境が構築されました。ターミナルでLinuxコマンドを使用できるようになります。

## 2回目以降の起動

2回目以降は、スタートメニューから「Ubuntu（オレンジのアイコン）」からLinux環境を起動します。

## 参考資料

[WSL のインストール](https://learn.microsoft.com/ja-jp/windows/wsl/install)を参考にしてください。

> 💡 **ヒント**  
> 最近の書籍ではWSL2を利用した開発環境の構築方法が紹介されています。Microsoftが提供しているエディタであるVSCodeにはWSL上のLinux環境にシームレスにアクセスするための拡張機能も提供されています。
